{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints related to food deliveries within a backend service, utilizing FastAPI. It includes routes for creating deliveries, listing deliveries, fetching specific delivery details with history, assigning delivery personnel, and updating delivery status. It uses SQLAlchemy ORM for database interactions, and references external schema and CRUD modules for data validation and database operations.", "external_files": ["src/crud.py", "src/db/session.py", "src/schemas/schemas.py", "src/models/models.py"], "external_methods": ["crud.get_order", "crud.get_delivery_by_order_id", "crud.create_delivery", "crud.list_deliveries", "crud.get_delivery_by_id", "crud.list_delivery_status_history", "crud.assign_delivery", "crud.set_delivery_status"], "published": ["router"], "classes": [{"name": "DeliveryRead", "description": "Schema model representing delivery details sent in responses"}, {"name": "DeliveryWithHistoryRead", "description": "Schema model encapsulating a delivery object along with its status history"}, {"name": "DeliveryStatusHistoryRead", "description": "Schema model for individual delivery status history entries"}, {"name": "DeliveryAssignRequest", "description": "Schema model for assigning a delivery person"}, {"name": "DeliveryCreate", "description": "Schema model for creating a new delivery"}], "methods": [{"name": "DeliveryRead create_delivery_endpoint(payload: DeliveryCreate, db: Session = Depends(get_db))", "description": "API endpoint to create a new delivery record for an order", "scope": "", "scopeKind": ""}, {"name": "list[DeliveryRead] list_deliveries_endpoint( delivery_person_id: int | None = Query(None, description=\"Optional delivery person user_id to filter by.\"), db: Session = Depends(get_db), )", "description": "API endpoint to list all deliveries, optionally filtered by delivery person", "scope": "", "scopeKind": ""}, {"name": "DeliveryWithHistoryRead get_delivery_endpoint(delivery_id: int, db: Session = Depends(get_db))", "description": "API endpoint to retrieve a delivery with its status history", "scope": "", "scopeKind": ""}, {"name": "DeliveryRead assign_delivery_endpoint(delivery_id: int, payload: DeliveryAssignRequest, db: Session = Depends(get_db))", "description": "API endpoint to assign a delivery person to a delivery", "scope": "", "scopeKind": ""}, {"name": "DeliveryRead set_delivery_status_endpoint( delivery_id: int, payload: DeliveryStatusHistoryCreate, db: Session = Depends(get_db), )", "description": "API endpoint to update the status of a delivery", "scope": "", "scopeKind": ""}], "calls": ["crud.get_order", "crud.get_delivery_by_order_id", "crud.create_delivery", "crud.list_deliveries", "crud.get_delivery_by_id", "crud.list_delivery_status_history", "crud.assign_delivery", "crud.set_delivery_status", "DeliveryRead.model_validate", "DeliveryWithHistoryRead", "DeliveryStatusHistoryRead.model_validate"], "search-terms": ["deliveries", "create_delivery_endpoint", "list_deliveries_endpoint", "get_delivery_endpoint", "assign_delivery_endpoint", "set_delivery_status_endpoint", "APIRouter", "FastAPI"], "state": 2, "file_id": 18, "knowledge_revision": 42, "git_revision": "b927feaecf1ff4cdb4b968f03130bf77cf2a85a7", "ctags": [{"_type": "tag", "name": "assign_delivery_endpoint", "path": "/home/kavia/workspace/code-generation/gourmet-express-216707-216717/food_delivery_backend/src/api/deliveries.py", "pattern": "/^def assign_delivery_endpoint(delivery_id: int, payload: DeliveryAssignRequest, db: Session = Dep/", "language": "Python", "typeref": "typename:DeliveryRead", "kind": "function", "signature": "(delivery_id: int, payload: DeliveryAssignRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "create_delivery_endpoint", "path": "/home/kavia/workspace/code-generation/gourmet-express-216707-216717/food_delivery_backend/src/api/deliveries.py", "pattern": "/^def create_delivery_endpoint(payload: DeliveryCreate, db: Session = Depends(get_db)) -> Delivery/", "language": "Python", "typeref": "typename:DeliveryRead", "kind": "function", "signature": "(payload: DeliveryCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_delivery_endpoint", "path": "/home/kavia/workspace/code-generation/gourmet-express-216707-216717/food_delivery_backend/src/api/deliveries.py", "pattern": "/^def get_delivery_endpoint(delivery_id: int, db: Session = Depends(get_db)) -> DeliveryWithHistor/", "language": "Python", "typeref": "typename:DeliveryWithHistoryRead", "kind": "function", "signature": "(delivery_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_deliveries_endpoint", "path": "/home/kavia/workspace/code-generation/gourmet-express-216707-216717/food_delivery_backend/src/api/deliveries.py", "pattern": "/^def list_deliveries_endpoint($/", "language": "Python", "typeref": "typename:list[DeliveryRead]", "kind": "function", "signature": "( delivery_person_id: int | None = Query(None, description=\"Optional delivery person user_id to filter by.\"), db: Session = Depends(get_db), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/gourmet-express-216707-216717/food_delivery_backend/src/api/deliveries.py", "pattern": "/^router = APIRouter(prefix=\"\\/deliveries\", tags=[\"deliveries\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "set_delivery_status_endpoint", "path": "/home/kavia/workspace/code-generation/gourmet-express-216707-216717/food_delivery_backend/src/api/deliveries.py", "pattern": "/^def set_delivery_status_endpoint($/", "language": "Python", "typeref": "typename:DeliveryRead", "kind": "function", "signature": "( delivery_id: int, payload: DeliveryStatusHistoryCreate, db: Session = Depends(get_db), )"}], "hash": "e19d62aabbc71456d73915c8a7a8f2f4", "format-version": 4, "code-base-name": "food_delivery_backend", "filename": "food_delivery_backend/src/api/deliveries.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/deliveries\", tags=[\"deliveries\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"42": "b927feaecf1ff4cdb4b968f03130bf77cf2a85a7"}]}